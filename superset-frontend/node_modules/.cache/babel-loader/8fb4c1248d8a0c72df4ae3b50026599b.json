{"ast":null,"code":"import _Object$values from \"@babel/runtime-corejs3/core-js-stable/object/values\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { t } from '@superset-ui/core';\nimport EditableTitle from '../../components/EditableTitle';\nimport TooltipWrapper from '../../components/TooltipWrapper';\nimport SliceHeaderControls from './SliceHeaderControls';\nimport FiltersBadge from '../containers/FiltersBadge';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  innerRef: PropTypes.func,\n  slice: PropTypes.object.isRequired,\n  isExpanded: PropTypes.bool,\n  isCached: PropTypes.arrayOf(PropTypes.bool),\n  cachedDttm: PropTypes.arrayOf(PropTypes.string),\n  updatedDttm: PropTypes.number,\n  updateSliceName: PropTypes.func,\n  toggleExpandSlice: PropTypes.func,\n  forceRefresh: PropTypes.func,\n  exploreChart: PropTypes.func,\n  exportCSV: PropTypes.func,\n  editMode: PropTypes.bool,\n  annotationQuery: PropTypes.object,\n  annotationError: PropTypes.object,\n  sliceName: PropTypes.string,\n  supersetCanExplore: PropTypes.bool,\n  supersetCanCSV: PropTypes.bool,\n  sliceCanEdit: PropTypes.bool,\n  componentId: PropTypes.string.isRequired,\n  dashboardId: PropTypes.number.isRequired,\n  filters: PropTypes.object.isRequired,\n  addDangerToast: PropTypes.func.isRequired,\n  handleToggleFullSize: PropTypes.func.isRequired,\n  chartStatus: PropTypes.string.isRequired };\n\n\nconst defaultProps = {\n  innerRef: null,\n  forceRefresh: () => ({}),\n  updateSliceName: () => ({}),\n  toggleExpandSlice: () => ({}),\n  exploreChart: () => ({}),\n  exportCSV: () => ({}),\n  editMode: false,\n  annotationQuery: {},\n  annotationError: {},\n  cachedDttm: null,\n  updatedDttm: null,\n  isCached: [],\n  isExpanded: [],\n  sliceName: '',\n  supersetCanExplore: false,\n  supersetCanCSV: false,\n  sliceCanEdit: false };\n\n\nconst annoationsLoading = t('Annotation layers are still loading.');\nconst annoationsError = t('One ore more annotation layers failed loading.');\n\nclass SliceHeader extends React.PureComponent {\n  render() {\n    const {\n      slice,\n      isExpanded,\n      isCached,\n      cachedDttm,\n      updatedDttm,\n      toggleExpandSlice,\n      forceRefresh,\n      exploreChart,\n      exportCSV,\n      innerRef,\n      sliceName,\n      supersetCanExplore,\n      supersetCanCSV,\n      sliceCanEdit,\n      editMode,\n      updateSliceName,\n      annotationQuery,\n      annotationError,\n      componentId,\n      dashboardId,\n      addDangerToast,\n      handleToggleFullSize,\n      isFullSize,\n      chartStatus } =\n    this.props;\n\n    return (\n      ___EmotionJSX(\"div\", { className: \"chart-header\", ref: innerRef },\n      ___EmotionJSX(\"div\", { className: \"header-title\" },\n      ___EmotionJSX(EditableTitle, {\n        title:\n        sliceName || (\n        editMode ?\n        '---' // this makes an empty title clickable\n        : ''),\n\n        canEdit: editMode,\n        emptyText: \"\",\n        onSaveTitle: updateSliceName,\n        showTooltip: false }),\n\n      !!_Object$values(annotationQuery).length &&\n      ___EmotionJSX(TooltipWrapper, {\n        label: \"annotations-loading\",\n        placement: \"top\",\n        tooltip: annoationsLoading },\n\n      ___EmotionJSX(\"i\", { className: \"fa fa-refresh warning\" })),\n\n\n      !!_Object$values(annotationError).length &&\n      ___EmotionJSX(TooltipWrapper, {\n        label: \"annoation-errors\",\n        placement: \"top\",\n        tooltip: annoationsError },\n\n      ___EmotionJSX(\"i\", { className: \"fa fa-exclamation-circle danger\" }))),\n\n\n\n      ___EmotionJSX(\"div\", { className: \"header-controls\" },\n      !editMode &&\n      ___EmotionJSX(React.Fragment, null,\n      ___EmotionJSX(FiltersBadge, { chartId: slice.slice_id }),\n      ___EmotionJSX(SliceHeaderControls, {\n        slice: slice,\n        isCached: isCached,\n        isExpanded: isExpanded,\n        cachedDttm: cachedDttm,\n        updatedDttm: updatedDttm,\n        toggleExpandSlice: toggleExpandSlice,\n        forceRefresh: forceRefresh,\n        exploreChart: exploreChart,\n        exportCSV: exportCSV,\n        supersetCanExplore: supersetCanExplore,\n        supersetCanCSV: supersetCanCSV,\n        sliceCanEdit: sliceCanEdit,\n        componentId: componentId,\n        dashboardId: dashboardId,\n        addDangerToast: addDangerToast,\n        handleToggleFullSize: handleToggleFullSize,\n        isFullSize: isFullSize,\n        chartStatus: chartStatus })))));\n\n\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nSliceHeader.propTypes = propTypes;\nSliceHeader.defaultProps = defaultProps;const _default =\n\nSliceHeader;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/app/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/app/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(annoationsLoading, \"annoationsLoading\", \"/app/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(annoationsError, \"annoationsError\", \"/app/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(SliceHeader, \"SliceHeader\", \"/app/superset-frontend/src/dashboard/components/SliceHeader.jsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/SliceHeader.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/dashboard/components/SliceHeader.jsx"],"names":["React","PropTypes","t","EditableTitle","TooltipWrapper","SliceHeaderControls","FiltersBadge","propTypes","innerRef","func","slice","object","isRequired","isExpanded","bool","isCached","arrayOf","cachedDttm","string","updatedDttm","number","updateSliceName","toggleExpandSlice","forceRefresh","exploreChart","exportCSV","editMode","annotationQuery","annotationError","sliceName","supersetCanExplore","supersetCanCSV","sliceCanEdit","componentId","dashboardId","filters","addDangerToast","handleToggleFullSize","chartStatus","defaultProps","annoationsLoading","annoationsError","SliceHeader","PureComponent","render","isFullSize","props","length","slice_id"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { t } from '@superset-ui/core';\nimport EditableTitle from '../../components/EditableTitle';\nimport TooltipWrapper from '../../components/TooltipWrapper';\nimport SliceHeaderControls from './SliceHeaderControls';\nimport FiltersBadge from '../containers/FiltersBadge';\n\nconst propTypes = {\n  innerRef: PropTypes.func,\n  slice: PropTypes.object.isRequired,\n  isExpanded: PropTypes.bool,\n  isCached: PropTypes.arrayOf(PropTypes.bool),\n  cachedDttm: PropTypes.arrayOf(PropTypes.string),\n  updatedDttm: PropTypes.number,\n  updateSliceName: PropTypes.func,\n  toggleExpandSlice: PropTypes.func,\n  forceRefresh: PropTypes.func,\n  exploreChart: PropTypes.func,\n  exportCSV: PropTypes.func,\n  editMode: PropTypes.bool,\n  annotationQuery: PropTypes.object,\n  annotationError: PropTypes.object,\n  sliceName: PropTypes.string,\n  supersetCanExplore: PropTypes.bool,\n  supersetCanCSV: PropTypes.bool,\n  sliceCanEdit: PropTypes.bool,\n  componentId: PropTypes.string.isRequired,\n  dashboardId: PropTypes.number.isRequired,\n  filters: PropTypes.object.isRequired,\n  addDangerToast: PropTypes.func.isRequired,\n  handleToggleFullSize: PropTypes.func.isRequired,\n  chartStatus: PropTypes.string.isRequired,\n};\n\nconst defaultProps = {\n  innerRef: null,\n  forceRefresh: () => ({}),\n  updateSliceName: () => ({}),\n  toggleExpandSlice: () => ({}),\n  exploreChart: () => ({}),\n  exportCSV: () => ({}),\n  editMode: false,\n  annotationQuery: {},\n  annotationError: {},\n  cachedDttm: null,\n  updatedDttm: null,\n  isCached: [],\n  isExpanded: [],\n  sliceName: '',\n  supersetCanExplore: false,\n  supersetCanCSV: false,\n  sliceCanEdit: false,\n};\n\nconst annoationsLoading = t('Annotation layers are still loading.');\nconst annoationsError = t('One ore more annotation layers failed loading.');\n\nclass SliceHeader extends React.PureComponent {\n  render() {\n    const {\n      slice,\n      isExpanded,\n      isCached,\n      cachedDttm,\n      updatedDttm,\n      toggleExpandSlice,\n      forceRefresh,\n      exploreChart,\n      exportCSV,\n      innerRef,\n      sliceName,\n      supersetCanExplore,\n      supersetCanCSV,\n      sliceCanEdit,\n      editMode,\n      updateSliceName,\n      annotationQuery,\n      annotationError,\n      componentId,\n      dashboardId,\n      addDangerToast,\n      handleToggleFullSize,\n      isFullSize,\n      chartStatus,\n    } = this.props;\n\n    return (\n      <div className=\"chart-header\" ref={innerRef}>\n        <div className=\"header-title\">\n          <EditableTitle\n            title={\n              sliceName ||\n              (editMode\n                ? '---' // this makes an empty title clickable\n                : '')\n            }\n            canEdit={editMode}\n            emptyText=\"\"\n            onSaveTitle={updateSliceName}\n            showTooltip={false}\n          />\n          {!!Object.values(annotationQuery).length && (\n            <TooltipWrapper\n              label=\"annotations-loading\"\n              placement=\"top\"\n              tooltip={annoationsLoading}\n            >\n              <i className=\"fa fa-refresh warning\" />\n            </TooltipWrapper>\n          )}\n          {!!Object.values(annotationError).length && (\n            <TooltipWrapper\n              label=\"annoation-errors\"\n              placement=\"top\"\n              tooltip={annoationsError}\n            >\n              <i className=\"fa fa-exclamation-circle danger\" />\n            </TooltipWrapper>\n          )}\n        </div>\n        <div className=\"header-controls\">\n          {!editMode && (\n            <>\n              <FiltersBadge chartId={slice.slice_id} />\n              <SliceHeaderControls\n                slice={slice}\n                isCached={isCached}\n                isExpanded={isExpanded}\n                cachedDttm={cachedDttm}\n                updatedDttm={updatedDttm}\n                toggleExpandSlice={toggleExpandSlice}\n                forceRefresh={forceRefresh}\n                exploreChart={exploreChart}\n                exportCSV={exportCSV}\n                supersetCanExplore={supersetCanExplore}\n                supersetCanCSV={supersetCanCSV}\n                sliceCanEdit={sliceCanEdit}\n                componentId={componentId}\n                dashboardId={dashboardId}\n                addDangerToast={addDangerToast}\n                handleToggleFullSize={handleToggleFullSize}\n                isFullSize={isFullSize}\n                chartStatus={chartStatus}\n              />\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nSliceHeader.propTypes = propTypes;\nSliceHeader.defaultProps = defaultProps;\n\nexport default SliceHeader;\n"]},"metadata":{},"sourceType":"module"}