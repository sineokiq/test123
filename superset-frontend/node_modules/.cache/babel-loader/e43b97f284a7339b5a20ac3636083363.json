{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ButtonGroup } from 'react-bootstrap';\nimport { t, styled } from '@superset-ui/core';\n\nimport { Tooltip } from 'src/common/components/Tooltip';\nimport Button from 'src/components/Button';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  canAdd: PropTypes.bool.isRequired,\n  onQuery: PropTypes.func.isRequired,\n  onSave: PropTypes.func,\n  onStop: PropTypes.func,\n  loading: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  errorMessage: PropTypes.node };\n\n\nconst defaultProps = {\n  onStop: () => {},\n  onSave: () => {} };\n\n\nconst Styles = styled.div`\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: row;\n  align-items: center;\n  padding: ${({ theme }) => 2 * theme.gridUnit}px\n    ${({ theme }) => 2 * theme.gridUnit}px 0\n    ${({ theme }) => 4 * theme.gridUnit}px;\n  .btn {\n    /* just to make sure buttons don't jiggle */\n    width: 100px;\n  }\n`;\n\nexport default function QueryAndSaveBtns({\n  canAdd,\n  onQuery,\n  onSave,\n  onStop,\n  loading,\n  chartIsStale,\n  errorMessage })\n{\n  let qryButtonStyle = 'tertiary';\n  if (errorMessage) {\n    qryButtonStyle = 'danger';\n  } else if (chartIsStale) {\n    qryButtonStyle = 'primary';\n  }\n\n  const saveButtonDisabled = errorMessage ? true : loading;\n  const qryOrStopButton = loading ?\n  ___EmotionJSX(Button, {\n    onClick: onStop,\n    buttonStyle: \"warning\",\n    buttonSize: \"small\",\n    disabled: !canAdd },\n\n  ___EmotionJSX(\"i\", { className: \"fa fa-stop-circle-o\" }), \" \", t('Stop')) :\n\n\n  ___EmotionJSX(Button, {\n    buttonSize: \"small\",\n    onClick: onQuery,\n    buttonStyle: qryButtonStyle,\n    disabled: !!errorMessage,\n    \"data-test\": \"run-query-button\" },\n\n  ___EmotionJSX(\"i\", { className: \"fa fa-bolt\" }), \" \", t('Run'));\n\n\n\n  return (\n    ___EmotionJSX(Styles, null,\n    ___EmotionJSX(\"div\", null,\n    ___EmotionJSX(ButtonGroup, { className: \"query-and-save\" },\n    qryOrStopButton,\n    ___EmotionJSX(Button, {\n      buttonStyle: \"tertiary\",\n      buttonSize: \"small\",\n      \"data-target\": \"#save_modal\",\n      \"data-toggle\": \"modal\",\n      disabled: saveButtonDisabled,\n      onClick: onSave,\n      \"data-test\": \"query-save-button\" },\n\n    ___EmotionJSX(\"i\", { className: \"fa fa-plus-circle\" }), \" \", t('Save'))),\n\n\n    errorMessage &&\n    ___EmotionJSX(\"span\", null,\n    ' ',\n    ___EmotionJSX(Tooltip, {\n      id: \"query-error-tooltip\",\n      placement: \"right\",\n      title: errorMessage },\n\n    ___EmotionJSX(\"i\", { className: \"fa fa-exclamation-circle text-danger fa-lg\" }))))));\n\n\n\n\n\n\n}\n\nQueryAndSaveBtns.propTypes = propTypes;\nQueryAndSaveBtns.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx\");reactHotLoader.register(Styles, \"Styles\", \"/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx\");reactHotLoader.register(QueryAndSaveBtns, \"QueryAndSaveBtns\", \"/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx"],"names":["React","PropTypes","ButtonGroup","t","styled","Tooltip","Button","propTypes","canAdd","bool","isRequired","onQuery","func","onSave","onStop","loading","chartIsStale","errorMessage","node","defaultProps","Styles","div","theme","gridUnit","QueryAndSaveBtns","qryButtonStyle","saveButtonDisabled","qryOrStopButton"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ButtonGroup } from 'react-bootstrap';\nimport { t, styled } from '@superset-ui/core';\n\nimport { Tooltip } from 'src/common/components/Tooltip';\nimport Button from 'src/components/Button';\n\nconst propTypes = {\n  canAdd: PropTypes.bool.isRequired,\n  onQuery: PropTypes.func.isRequired,\n  onSave: PropTypes.func,\n  onStop: PropTypes.func,\n  loading: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  errorMessage: PropTypes.node,\n};\n\nconst defaultProps = {\n  onStop: () => {},\n  onSave: () => {},\n};\n\nconst Styles = styled.div`\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: row;\n  align-items: center;\n  padding: ${({ theme }) => 2 * theme.gridUnit}px\n    ${({ theme }) => 2 * theme.gridUnit}px 0\n    ${({ theme }) => 4 * theme.gridUnit}px;\n  .btn {\n    /* just to make sure buttons don't jiggle */\n    width: 100px;\n  }\n`;\n\nexport default function QueryAndSaveBtns({\n  canAdd,\n  onQuery,\n  onSave,\n  onStop,\n  loading,\n  chartIsStale,\n  errorMessage,\n}) {\n  let qryButtonStyle = 'tertiary';\n  if (errorMessage) {\n    qryButtonStyle = 'danger';\n  } else if (chartIsStale) {\n    qryButtonStyle = 'primary';\n  }\n\n  const saveButtonDisabled = errorMessage ? true : loading;\n  const qryOrStopButton = loading ? (\n    <Button\n      onClick={onStop}\n      buttonStyle=\"warning\"\n      buttonSize=\"small\"\n      disabled={!canAdd}\n    >\n      <i className=\"fa fa-stop-circle-o\" /> {t('Stop')}\n    </Button>\n  ) : (\n    <Button\n      buttonSize=\"small\"\n      onClick={onQuery}\n      buttonStyle={qryButtonStyle}\n      disabled={!!errorMessage}\n      data-test=\"run-query-button\"\n    >\n      <i className=\"fa fa-bolt\" /> {t('Run')}\n    </Button>\n  );\n\n  return (\n    <Styles>\n      <div>\n        <ButtonGroup className=\"query-and-save\">\n          {qryOrStopButton}\n          <Button\n            buttonStyle=\"tertiary\"\n            buttonSize=\"small\"\n            data-target=\"#save_modal\"\n            data-toggle=\"modal\"\n            disabled={saveButtonDisabled}\n            onClick={onSave}\n            data-test=\"query-save-button\"\n          >\n            <i className=\"fa fa-plus-circle\" /> {t('Save')}\n          </Button>\n        </ButtonGroup>\n        {errorMessage && (\n          <span>\n            {' '}\n            <Tooltip\n              id=\"query-error-tooltip\"\n              placement=\"right\"\n              title={errorMessage}\n            >\n              <i className=\"fa fa-exclamation-circle text-danger fa-lg\" />\n            </Tooltip>\n          </span>\n        )}\n      </div>\n    </Styles>\n  );\n}\n\nQueryAndSaveBtns.propTypes = propTypes;\nQueryAndSaveBtns.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"module"}